# Part 1 코드 정리법

- 리팩터링은 기존 동작을 바꾸지 않고 "코드의 구조만" 바뀜
- 리팩터링은 위험하고 개발을 멈추고 진행해야 한다는 것은 오해

항상 코드는 조금씩 변경

1. 보호 구문
   중첩 조건은 수정할 수 있음, but 남용하면 가독성 해칠 수도 있음
   항상 반드시 작은 단계를 거쳐 코드 정리하기
    - guard clause, bouncer pattern, early return pattern

2. 안 쓰는 코드 -> 지우기
   기억은 형상 관리 도구에 맡기기

3. 대칭으로 맞추기
   여러 가지 패턴을 섞어쓰면 혼란스러워짐 -> 한 가지 방식으로 '일관성' 있게 작성하기

4. 새로운 인터페이스(통로 인터페이스)로 기존 루틴 부르기
   기존 인터페이스가 호출하기 어렵거나 너무 복잡하면 아예 새롭게 인터페이스 구현하기

5. 읽는 순서
   코드도 글을 읽는 것처럼

6. 응집도를 높이는 배치
   결합도를 제거할 수 있으면 제거하면 되지만 그렇지 않다면 가까이 모아두기
   응집도를 높이는 순서로 정리하기

7. 선언과 초기화를 함께 옮기기
   선언과 초기화(할당)은 같이 옮겨야 읽기 쉬움

8. 설명하는 변수
   긴 표현식은 추출해서 의미 있는 변수 이름을 만들고 할당
   변수와 표현식을 분리하면 한쪽만 읽으면 돼서 빠르게 변경 가능

9. 설명하는 상수
   리터럴 상수는 반복해서 나오더라도 의미를 알기 어려움
   리터럴 상수는 상징적인 상수로 변경하기
   한 번에 바뀌어야 하거나 함께 이해해야 하는 상수는 모아두기

10. 명시적인 매개변수
    매개변수 데이터가 제대로 전달되지 않으면(원하는 값이 들어가지 않으면) 루틴(함수, 프로시저)을 나누기

11. 비슷한 코드끼리
    비슷한 코드는 묶고 빈 줄로 분리하기(한 칸 띄우기)

12. 도우미 추출 -> 메서드 추출
    목적은 분명한데 나머지 코드와 상호작용이 적은 코드 블록을 추출하고 목적에 따른 이름 붙이기
    도우미들이 시간적 결합을 표현하는 경우 원래 코드 블록 아래에 추출한 메서드 순서대로 놓기

13. 하나의 더미
    코드가 여러 개의 작은 조각으로 나눠져 있을 때는 일단 하나로 모으고 나서 정리하기
    코드를 한데 모은 후 이해하기 어려운 부분을 추출해서 새롭게 정리해야 함
    - 길고 반복되는 인자 목록
    - 반복되는 코드(특히 조건문)
    - 도우미에 대한 부적절한 이름
    - 공유되어 변경에 노출된 데이터 구조

14. 설명하는 주석
    코드에서 명확하지 않은 부분을 적기
    다른 사람 관점에서 생각하고 예상되는 질문을 선제적으로 언급하기

15. 불필요한 주석 지우기
    코드만으로 내용을 이해할 수 있으면 주석은 삭제
    모든 루틴에 주석을 달 필요는 없음
    다른 사람들도 읽기 쉽게 하는 일도 설계
    완전히 중복되는 주석은 삭제하기
    코드 정리 이후에 주석이 중복되기도 함 -> 삭제

# Part 3 관리

- 코드 정리의 필요성에 대한 설득을 위한 이론

22. 요소들을 유익하게 관계 맺는 일
    - 소프트웨어 설계: 요소들을 유익하게 관계 맺는 일
    - 요소
        - 토큰 < 식< 문 < 함수 < 객체/모듈 < 시스템
    - 관계 맺기
        - 호출, 발행, 대기, 참조 등
    - 유익하게
        - 잘 동작하는 시스템에서는 요소들이 서로에게 도움이 되고 있음
    - 설계자는 요소들을 유익하게 관계 맺는 일을 함
    - 시스템의 구조
        - 요소 계층 구조
        - 요소 사이의 관계
        - 이러한 관계가 만들어 내는 이점

23. 구조와 동작
    - 소프트웨어가 가치를 만드는 방식
        - 현재 소프트웨어가 하는 일
        - 미래에 새로운 일을 시킬 수 있는 가능성
    - 선택가능성이 있을수록 더 가치 있음
        - 환경의 변동성이 클수록 선택 가능성(옵션)의 가치가 커짐
    - 변경에 따른 비용 줄이기
    - 동작 변경보다 구조 변경은 결과가 눈에 보이지 않고 제대로 이뤄졌는지 알기 어려움

24. 경제 이론: 시간가치와 선택 가능성
    - 돈의 속성 중 시간 가치와 선택 가능성과 소프트웨어 설계 간에 관계

25. 오늘의 1달러가 내일 1달러보다 크다
    - 코드 정리를 먼저하기 보다 나중에 하기
    - 지금 당장 돈을 벌고 나중에 코드 정리하기

26. 옵션
    - 오늘의 설계는 내일의 동작 변경을 구매하는 옵션에 대한 프리미엄임
    - 다르게 말하면 오늘의 설계는 현재는 비용이지만, 내일 동작 변경이 발생하면 이익라는 뜻

27. 옵션과 현금흐름 비교
    - 현금흐름할인(경제성 우선시) - 오늘의 동작 변경으로 돈을 버는 데 집중하고, 코드 정리는 나중에 생각하기
    - 옵션 - 나중에 더 많은 돈을 벌기 위해 코드 정리를 먼저하기
    - 그럼 두 선택지 중 어떤 걸 먼저 해야하나?
        - 바로 동작 변경했을 때의 비용이 코드 정리 비용과 코드 정리 후 동작 변경 비용의 합보다 클 때는 코드 정리 먼저
        - 반대의 경우에는 두 가지 방안 둘 다 가능
    - 경제성과 코드 정리 사이에서 중심을 잘 잡아야 함

28. 되돌릴 수 있는 구조 변경
    - 먼저 코드 정리하는 것은 대체로 되돌리기 어려움
    - 되돌리기 어려운 결정은 심사숙고해야 함
    - 코드 '정리'라는 말은 별거 아니라는 뜻을 내포함
    - 따라서 되돌릴 수 있는 구조 변경을 시도

29. 결합도
    - 비싼 프로그램들은 결합도가 높음. 즉, 한 요소를 변경하면 다른 요소도 변경해야 함
    - 결합도 분석
        - 소스 코드 뿐만 아니라 어떤 변경이 발생했거나 발생할 가능성 있는지도 파악
        - 어떤 변경이 일어날 때 한 요소는 여려 요소와 결합(일대다)
        - 변경이 발생하면 다른 요소들로 연쇄적으로 변경 발생(연쇄 작용)
    - 코드 정리할 때 결합도 줄이는 방향으로 하기

30. 콘스탄틴의 등가성
    - 유지보수에 드는 비용이 개발 비용의 70% 이상임
    - 콘스탄틴의 등가성: 소프트웨어 비용은 소프트웨어 변경 비용과 거의 같음
    - 멱법칙: 소수의 큰 이상값 발생은 더 많은 정상 사건보다 더 큰 영향을 미침
        - 즉, 변경 비용은 큰 변경들의 비용과 거의 같다는 의미
    - 결과적으로, 소프트웨어 비용을 줄이려면 결합도를 줄여야 함

31. 결합도와 결합도 제거
    - 결합도를 완전히 제거하지 않는 이유
        - 어떤 결합도는 피할 수 없기 때문
    - 한 종류의 코드 변경에 대한 결함도를 줄일수록 다른 종류의 코드 변경에 대한 결합도가 커짐

32. 응집도
    - 결합된 요소들은 둘을 퐇함하는 같은 요소의 하위 요소여야 함
    - 응집도란 같은 하위 요소들끼리만 결합시키는 것

33. 결론
    - 코드 정리를 먼저 할지는 전적으로 개발자에게 달려있음
    - 코드 정리에 너무 집착하지는 말기
    - 중요한 것은 코드를 변경하는 사람들 사이의 관계
    - but, 코드 정리를 먼저하는 것은 그만한 가치가 있음

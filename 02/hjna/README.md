# 관리

### 16. 코드정리 구분
코드정리를 할때는 별도의 PR을 생성하여, PR당 몇개의 코드 정리만 넣기
- 코드정리와 동작 변경을 섞지 말자

### 17. 연쇄적인 정리
코드 정리할 때는 아주 작은 단계로 나누어 코드를 정리하기, 그리고 각 단계를 최적화하기

* 보호구문 : 조건이 설명하는 도우미로 드러남
* 안 쓰는 코드 : 안쓰는 코드를 없애면, 코드를 읽는 순서에 맞춰 정렬하는 방법과 응집도를 높이는 배치가 보임
* 대칭으로 코드 뭉치를 맞추면, 유사성이 높은 코드들을 묶여진 순서대로 읽을 수 있음
* 새로운 인터페이스로 기존 루틴 부르기 : 구세대 IDE를 사용하면 인터페이스의 변경은 또 다른 일일히 노가다 변경으로 바꿔짐
* 읽는 순서 : 읽는 순서를 정리하면, 대칭으로 맞출 기회가 보임
* 응집도를 높이는 배치 : 응집도를 높이는 배치로 묶인 요소는 하위 요소로 추출될 후보가 됨..
* 설명하는 상수 : 설명하는 상수 정리는 응집도를 높이게 이끔
* 명시적인 매개변수 : 매개변수를 명확하게 만들면, 매개변수 집합을 묶어서 코드를 옮길 수 있음, 코드를 정리할 때 새로운 추상화가 도출될 수 있는지 계속 주목
* 비슷한 코드끼리 : 코드 덩어리 앞에 설명하는 주석을 붙이면 좋음
* 도우미 추출 : 도우미 추출 후 보호 구문을 도입하거나, 설명하는 상수, 설명하는 변수를 추출할 수 있음
* 하나의 더미 : 코드가 모여서 크고 엉마이면, 비슷한 코드끼리 정리, 설명하는 주석 정리, 도우미 추출 등의 방법을 기대할 수 있음
* 설명하는 주석 : 주석의 설명을, 설명하는 변수나 상수, 도우미 등으로 대체할 수 있으면 대체하라
* 불필요한 주석 지우기 : 의미없는 주석은 지우기
---
* 결론 : 너무 빠르게 변경하지 않도록 주의하기. 작은 정리를 순차적으로 성공하도록 만들기

### 18. 코드 정리의 일괄 처리량
코드 정리를 할 때는 일괄 정리량을 적절하게 설정
* 정리하는 양이 많을 수록, 통합과정이 길어지고 다른 사람의 작업과 충돌할 확률도 커짐
* 다수의 코드정리를 하다가, 동작 변경을 시킬 수도 있음. 코드 정리 사이에 상호작용이 있으면 비용이 늘어남
* 코드 정리 비용을 줄이려면, 정리 개수를 늘려서 동작 변경에 소용되는 비용을 줄이세요(많은 리팩토링 작업 단위로 나누라는 말인가?)

### 19. 리듬

18장에서 일괄정리량을 적당히 나눴으면, 각 단위에 대해 길지않은 시간을 할애하여 코드 리팩토링을 수행하라

### 20. 얽힘 풀기
쓰레기 코드는 하나의 얽힌 실타래와 같다. 과감하게 얽힌 살타래를 버리고 새롭게 구현하고, 새로운 것을 발견하고, 더 많은 가치를 얻자

### 21. 코드 정리 시점
* 재미목록 : 여러가지 개선의 과제들을 작성하여 하나의 재미목록을 만들자. 코드들을 정리해놓고 나중에 리팩토링을 하고 싶을 떄, 이 재밌는 재미목록에서 현재 상황에 적당한 집중도(코드에 쏟는 정신력의 수준)에 맞게 뽑아서 리팩토링을 하자
* 동작 변경 후의 코드 정리 : 동작변경을 할 떄 코드 정리 먼저 수행하기, 나중가면 까먹어서 생각이 안날 수도 있음.. 그러니까 방금 변경한 코드에 대해, 코드를 정리하자.
* 코드 정리 후에 동작 변경
1) 코드를 정리하여도 더 쉬워지지 않는다면, 먼저 정리하지말기
2) 코드 정리하면서 더 빨리 이해할 수 있을 것 같으면, 정리하기
3) 코드정리의 기회가 많다면, 먼저하라. 딱 한번만 변경할 예정이라면, 하지마라.
4) 코드 정리를 할 때, 추측할 때에는 편견에서 벗어나야함

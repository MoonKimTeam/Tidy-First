# Part 2 관리

코드 정리는 리팩터링으로 가는 관문.

코드 정리를 개인 개발 흐름과 맞추기

16. 코드 정리 구분
    - 코드 정리는 동작 변경과 구조 변경 -> PR도 분리
    - 작은 PR은 장단점 있음
        - 큰 PR은 전체적인 그림 보여주지만 유용한 피드백 어려움
        - 작은 PR은 작은 피드백을 유도하지만 무시될 수도 있음
        - 작은 PR은 검토시간 단축
        - 코드 정리에 익숙해지면 별도의 코드 정리 PR 검토하지 않게 됨

17. 연쇄적인 정리
    - 코드 정리 단계의 크기 -> 직접 해보면서 결정해야
    - 코드 정리를 하다보면 연쇄적으로 해야할 것들이 보임
    - 코드 정리를 하다가 너무 빠르게 많은 것을 변화하려고 하지 말 것

18. 코드 정리의 일괄 처리량
    - 적정한 코드 정리 대상의 크기(양)
    - 코드 정리 대상이 너무 크면 다른 사람의 진행 작업과 충돌 발생 가능성 높아짐
    - 코드 정리 사이의 상호작용이 클수록 병합 비용이 급격히 커짐
    - 다음 동작 변경에 도움이 될 것이라 추측하여 코드 정리를 할수록 예상치 못한 추가 비용 발생
    - 따라서, 한 번에 처리하는 코드 줄이고 통합과 배포해야 함
    - 코드 정리 비용을 줄이려면 코드 정리 개수를 늘려서 동작 변경에 소용되는 비용을 줄이기
    - 일괄 처리 규모를 줄이면 검토 비용이 줄고 코드 정리 비용도 줄어듦

19. 리듬
    - 정리 리듬 관리하기
    - 동작 변경은 코드 안에서 뭉쳐서 나타나는 경향 있음
    - 대부분의 코드 변경은 이미 정리된 코드 안에서 이뤄짐
        - 이미 변경한 부분에서 더 많은 시간을 할애해야 할 수도 있다는 의미

20. 얽힘 풀기
    - 코드 정리와 동작 변경이 얽힌 경우
    - 이미 진행 중인 작업을 버리고 코드 정리를 먼저 처리할 수도 있음
    - 그 이유는 우리가 코딩하는 이윤는 컴퓨터에게 지시하는 것뿐만 아니라 의도를 다른 사람에게도 설명해야 하기 때문

21. 코드 정리 시점
    - 코드 정리 먼저? 아니면 동작 변경 먼저?
    - 코드 변경이 필요 없는 시스템이라면 코드 정리도 필요 없음
    - 그러나 그런 시스템은 거의 없고, 따라서 코드 정리를 미뤄서는 안 됨
    - 일할 시간이 부족하거나 할 일이 많다면 나중에 정리할 수도 있음
        - 코드 정리를 해놓으면 나중에 시스템 동작 변경을 쉽게 할 수 있음
        - 코드의 지저분함으로 인한 비용(지저분함 보유세)을 줄 일 수 있음
        - 학습 도구로 활용 가능
    - 동작 변경 후에 코드 정리
        - 방금 고친 코드를 다시 변경할 예정이거나
        - 지금 정리하는 것이 더 저렴하거나
        - 코드 정리하는데 드는 시간이 동작 변경에 드는 시간과 거의 비슷할때만 동작 변경 먼저
    - 코드 정리 후에 동작 변경
        - 먼저 정리를 선호하지만 다음의 경우에는 먼저 정리하지 말 것
            - 코드를 정리한다고 일이 쉬워지지 않을 때
            - 코드 정리 이점을 바로 얻을 수 없을 때
            - 코드 정리 비용을 보상받을 수 없을 때
            - 코드 정리에 대한 확신이 부족할 때